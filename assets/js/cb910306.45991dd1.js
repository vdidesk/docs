(window.webpackJsonp=window.webpackJsonp||[]).push([[43],{116:function(e,t,n){"use strict";n.r(t),n.d(t,"frontMatter",(function(){return o})),n.d(t,"metadata",(function(){return r})),n.d(t,"toc",(function(){return s})),n.d(t,"default",(function(){return p}));var a=n(3),i=n(8),c=(n(0),n(136)),o={id:"office365",title:"Configuring SAML SSO for Office 365",sidebar_label:"Office 365",slug:"/accops/office365",author:"Pravind Kumar",authorTitle:"write2pravind@gmail.com",authorURL:"https://www.vdidesk.com",tags:["Office365"]},r={unversionedId:"accops/office365/office365",id:"accops/office365/office365",isDocsHomePage:!1,title:"Configuring SAML SSO for Office 365",description:"Accops let users to Single Sign-On into Office 365 account with one set of login credentials, eliminating user-managed passwords and the risk of phishing. Office 365 Single Sign-On set up leverages the existing on-premise Active Directory infrastructure and provides seamless integration without the need to manage multiple on-premise and cloud identities.",source:"@site/sso/accops/office365/office365-idp.md",slug:"/accops/office365",permalink:"/sso/accops/office365",version:"current",lastUpdatedBy:"Pravind Kumar",lastUpdatedAt:1617562204,formattedLastUpdatedAt:"4/5/2021",sidebar_label:"Office 365",sidebar:"sso",previous:{title:"Configuring SAML SSO for Salesforce",permalink:"/sso/accops/salesforce"}},s=[{value:"Environment",id:"environment",children:[]},{value:"Pre-Requisites",id:"pre-requisites",children:[]},{value:"Configurations",id:"configurations",children:[{value:"Steps to setup Office 365 in Accops (Identity Provider)",id:"steps-to-setup-office-365-in-accops-identity-provider",children:[]},{value:"Steps to setup Accops in Office 365 (Service Provider)",id:"steps-to-setup-accops-in-office-365-service-provider",children:[]}]},{value:"Sign in to your Office 365",id:"sign-in-to-your-office-365",children:[{value:"Using IDP initiated login",id:"using-idp-initiated-login",children:[]},{value:"Using SP initiated login",id:"using-sp-initiated-login",children:[]}]},{value:"Help/Support",id:"helpsupport",children:[]}],l={toc:s};function p(e){var t=e.components,o=Object(i.a)(e,["components"]);return Object(c.b)("wrapper",Object(a.a)({},l,o,{components:t,mdxType:"MDXLayout"}),Object(c.b)("p",null,"Accops let users to Single Sign-On into Office 365 account with one set of login credentials, eliminating user-managed passwords and the risk of phishing. Office 365 Single Sign-On set up leverages the existing on-premise Active Directory infrastructure and provides seamless integration without the need to manage multiple on-premise and cloud identities."),Object(c.b)("h2",{id:"environment"},"Environment"),Object(c.b)("ul",null,Object(c.b)("li",{parentName:"ul"},"Accops HySecure Gateway v5299, v5360, v6026 onwards"),Object(c.b)("li",{parentName:"ul"},"Office 365 Tenant")),Object(c.b)("h2",{id:"pre-requisites"},"Pre-Requisites"),Object(c.b)("ul",null,Object(c.b)("li",{parentName:"ul"},"Verify your on-premises UPN Domain in Azure AD/Office 365 Tenant."),Object(c.b)("li",{parentName:"ul"},"Install, Configure & link Office 365 and on-premises Active Directory user accounts using Azure AD connect."),Object(c.b)("li",{parentName:"ul"},"Sync On-Premise Active Directory with Azure Active Directory."),Object(c.b)("li",{parentName:"ul"},"Global Admin Access of Office 365 Tenant to Connect using Powerhsell."),Object(c.b)("li",{parentName:"ul"},"Accops HySecure Gateway with Public DNS name and valid SSL Certificate."),Object(c.b)("li",{parentName:"ul"},"Managenent console of HySecure Gateway using Secirity Officer Account."),Object(c.b)("li",{parentName:"ul"},"Shell Access to Hysecure Gateway.")),Object(c.b)("h2",{id:"configurations"},"Configurations"),Object(c.b)("h3",{id:"steps-to-setup-office-365-in-accops-identity-provider"},"Steps to setup Office 365 in Accops (Identity Provider)"),Object(c.b)("p",null,Object(c.b)("strong",{parentName:"p"},"Step 1:")," Login with a digital certificate in Accops HySecure Gateway using Security Officer Account."),Object(c.b)("p",null,Object(c.b)("img",{alt:"img",src:n(294).default})),Object(c.b)("p",null,Object(c.b)("strong",{parentName:"p"},"Step 2:"),' Go to "Access Management >> Applications" click on  ',Object(c.b)("em",{parentName:"p"},"Add")," ."),Object(c.b)("p",null,Object(c.b)("img",{alt:"img",src:n(295).default})),Object(c.b)("p",null,Object(c.b)("strong",{parentName:"p"},"Step 3:")," Create a new application as ",Object(c.b)("em",{parentName:"p"},"Office365"),"."),Object(c.b)("pre",null,Object(c.b)("code",{parentName:"pre",className:"language-jsx",metastring:'title="Office365"',title:'"Office365"'},"Type : HTTPS\nName: Office365\nDiscription: Office365\nApplication Server Address: login.microsoftonline.com\nApplication Port: 443\nProtocol: TCP\nWeb URL:  https://login.microsoftonline.com/\nUse Reverse Proxy: No\nHidden Application: No\nHide Access Pop-up : No\nEnable App Tunnling : Yes\nEnable L3 VPN Tunneling : No\nEnable Single Sign-on : Yes\nAuthentication Type : SAML Based\nPreconfigured Service Provider : Office365\nService Provider Login URL: https://login.microsoftonline.com/login.srf?sso_reload=true\nService Provider Logout URL : https://login.microsoftonline.com/logout.srf\nAudience : urn:federation:MicrosoftOnline\nIssuer : https://gateway.accops.cloud (HySecure Gateway Address)\n")),Object(c.b)("p",null,Object(c.b)("img",{alt:"img",src:n(296).default}),"\n",Object(c.b)("strong",{parentName:"p"},"Step 4:")," Add Office365 app into New/Existing Application Groups."),Object(c.b)("p",null,Object(c.b)("img",{alt:"img",src:n(297).default})),Object(c.b)("p",null,Object(c.b)("strong",{parentName:"p"}," Step 5:"),' Create/Update an "Application Access"  in New/Exisitng "Access Controls"'),Object(c.b)("p",null,Object(c.b)("img",{alt:"img",src:n(298).default})),Object(c.b)("p",null,Object(c.b)("strong",{parentName:"p"}," Step 6:")," Verify SAML SSO Certificate in Accops HySecure Gateway."),Object(c.b)("p",null,"Please ensure below files availability in Accops HySecure Gateway."),Object(c.b)("pre",null,Object(c.b)("code",{parentName:"pre",className:"language-jsx",metastring:'title="Certificate Path: /home/fes/fescommon/certs/"',title:'"Certificate',"Path:":!0,'/home/fes/fescommon/certs/"':!0},"-rw-r--r-- 1 apache fes    2029 Mar 11 11:08 SAML_Signing_Certificate\n-rw------- 1 apache fes    2498 Mar 11 11:09 SAML_Signing_Private_Key\n")),Object(c.b)("div",{className:"admonition admonition-note alert alert--secondary"},Object(c.b)("div",{parentName:"div",className:"admonition-heading"},Object(c.b)("h5",{parentName:"div"},Object(c.b)("span",{parentName:"h5",className:"admonition-icon"},Object(c.b)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},Object(c.b)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"}))),"note")),Object(c.b)("div",{parentName:"div",className:"admonition-content"},Object(c.b)("p",{parentName:"div"},"If above files are not present then, create it using below command"),Object(c.b)("pre",{parentName:"div"},Object(c.b)("code",{parentName:"pre",className:"language-jsx",metastring:'title="Change the Working Directoty to "/home/fes/fescommon/certs/"',title:'"Change',the:!0,Working:!0,Directoty:!0,to:!0,'"/home/fes/fescommon/certs/"':!0},'\n[root@sso1 ~]# cd /home/fes/fescommon/certs/\n\nopenssl x509 -inform PEM -in "sslcert.cer" -out SAML_Signing_Certificate\n\nopenssl rsa -in "sslcert.pem" -out SAML_Signing_Private_Key\n')))),Object(c.b)("p",null,Object(c.b)("strong",{parentName:"p"}," Step 7: ")," Copy the content of SAML SSO Certificate ",Object(c.b)("em",{parentName:"p"},"SAML_Signing_Certificate")," form Accops Gateway."),Object(c.b)("div",{className:"admonition admonition-note alert alert--secondary"},Object(c.b)("div",{parentName:"div",className:"admonition-heading"},Object(c.b)("h5",{parentName:"div"},Object(c.b)("span",{parentName:"h5",className:"admonition-icon"},Object(c.b)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},Object(c.b)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"}))),"note")),Object(c.b)("div",{parentName:"div",className:"admonition-content"},Object(c.b)("p",{parentName:"div"},"This Certificate is required when Federating the Office 365 Domain with Accops Gateway, so please ensure while copying the content there aren't any new line in ",Object(c.b)("em",{parentName:"p"},"SAML SSO Certificate"),"."),Object(c.b)("pre",{parentName:"div"},Object(c.b)("code",{parentName:"pre",className:"language-jsx",metastring:'title="cat /home/fes/fescommon/certs/SAML_Signing_Certificate"',title:'"cat','/home/fes/fescommon/certs/SAML_Signing_Certificate"':!0},"-----BEGIN CERTIFICATE-----\nMIIFrDCCBJSgAwIBAgISBGJHkNGfVYEtgk7jonYIws6FMA0GCSqGSIb3DQEBCwUA\nMDIxCzAJBgNVBAYTAlVTMRYwFAYDVQQKEw1MZXQncyBFbmNyeXB0MQswCQYDVQQD\nEwJSMzAeFw0yMTAxMjcxMDA1NDBaFw0yMTA0MjcxMDA1NDBaMBcxFTATBgNVBAMT\nDGFjY29wcy5jbG91ZDCCAaIwDQYJKoZIhvcNAQEBBQADggGPADCCAYoCggGBAJYh\naZIcaKxjsQc0pheAN1qDTHUnfRIny3W6dShVEcdHBtVDqLo8BaFZ5elEhRZHt5u9\nG1FTtN9r3YN8EyVqGG+VoHFZLs53nT2pKXe+OqtqKtW4sTOEWyVER3lFRRKgL1sx\nD8OZwjsDHtPubK9vcTwPE64+nfAcBGj+1tTETgXgsorZXmtybXiexwZxad4tFrFW\nXIm0aVB8FwRLiKhNZ5eK6c7+dKwQPkYuS6n60Psg9v/MBzxEE87nHbK5tDMmTotN\nxIn8uyi+l7ArPFvIWKIN8O/Qnrym7RH1L73jAuykhwEDXBkNysjpKkTuvthJCeGw\noab9jcbVX5Vx0WCsuwTkvikJbp1NkI9pJcm97ST1d7NOkkIaI9Fq4TgucX2b0ZPr\nzCwaIRHXgII9eB9BO7idUi4u+23hB+jZYzGSVBz0lOPs90mW9jaFbPCt8CoX/Pm9\nGAq0uFb/ceNrRKtk3gAX9J2/XHqk1rlnCwauT4qo7gfuqW4ygtwkYCSMHPPG+wID\nAQABo4ICVTDCAlEwDgYDVR0PAQH/BAQDAgWgMB0GA1UdJQQWMBQGCCsGAQUFBwMB\nBggrBgEFBQKDAjAMBgNVHRMBAf8EAjAAMB0GA1UdDgQWBBQ2EBlrVJBjq2oHXam7\nXzv5IVqm/jUfBgNVHSpEGDAWgBQULrMXt1hWy65QCUDmH6+dixTCxjBVBggrBgEF\nBQcBAQRJMEMwIQYIKwYBBQUHMAGGFWh0dHA6Ly9yMy5vLmxlbmNyLm9yZzAiBggr\nBgEFBQcwAoAWaHR0cDovL3IzLmkubGVuY3Iub3JnLzAnBgNVHREEIDAegg4qLmFj\nY29wcy5jbGR1ZIIMYWNjb3BzLmNsb3VkMEwGA1UdIARFMEMwCAYGZ4EMAQIBMDcG\nCysGAQQBgtNTAQEBMCgwJgYIKwYBBQUHAgEWGmh0dHA6Ly9jcHMubGV0c2VuY3J5\ncHQub3JnMIOBAgYKKwYBBAHWeQIEAgSB8wSB8ADuAHUAlCC8Ho7VjWyIcx+CiyIs\nDdHaTV5sT5W9YdtOL1hNosIAAAF3Q4U54wAABAMARjBEAiBXSdXt8+QVBFC4sy3j\nFpJYds7BIMYysomjQXY4EM+AiwIgUOtBJPV6s9mT3VdQOz4+R3CYD08Zu72+bahC\noyT2/+gAdQO2XJQv0XcwIhRUGAgwlFaO400TGTO/3wwvIAvMTvFk4wAAAXdDhTof\nAAAEAwBGMEUCIEC8Gb+EDzePNEuEE5pOT0jnV2M41Jj94DTwKEoqjoRxAiAZZUX5\ntG4mCC+G4pCRIHhrbxdPoBXj7UsWPzkHiHnZxjANBgkqhkiG9w0BAQsFAAOCAQEA\nBV6d943HCsAesV1SiT7+hsBZQsDy7+KcPiSkfq50qMFuD1S2m1PE/Y0tNULT2DxB\nfEPGsJrVubND+wJrufAljenEZZzivdrxjAMBBuybqzFlNQoMmIJa7V7xnE9pCSPb\nk0UGYKSgHxSsqKxzLiRuneicVyMwyD/LxdF/QbxPfVWnt+mi1rduQk9yhoT6wubq\nT99qVOIzPnEkM1MO5qm0mD/xirlO5bbVDqJClGR0ifnrHN5ueWTgbMT1ruCyFcx5\nzDPB+7NWzyELdQ82I9UNCZ+/8GNu7bQX6p/w0BzDLwv3i3B5So8QetouPBF4Zpu1\nEjb8AQeQjIMJCWtYHdO4Fg==\n-----END CERTIFICATE-----\n\n")))),Object(c.b)("h3",{id:"steps-to-setup-accops-in-office-365-service-provider"},"Steps to setup Accops in Office 365 (Service Provider)"),Object(c.b)("p",null,Object(c.b)("strong",{parentName:"p"},"Step 1:")," Open PowerShell with Admin Rights and Install MSOnline Module."),Object(c.b)("pre",null,Object(c.b)("code",{parentName:"pre",className:"language-jsx",metastring:'title="Install MSOnline Module"',title:'"Install',MSOnline:!0,'Module"':!0},"PS C:\\Windows\\system32> Install-Module MSOnline\n\nNuGet provider is required to continue\nPowerShellGet requires NuGet provider version '2.8.5.201' or newer to interact with NuGet-based repositories. The NuGet\nprovider must be available in 'C:\\Program Files\\PackageManagement\\ProviderAssemblies' or\n'C:\\Users\\Admin\\AppData\\Local\\PackageManagement\\ProviderAssemblies'. You can also install the NuGet provider by running\n'Install-PackageProvider -Name NuGet -MinimumVersion 2.8.5.201 -Force'. Do you want PowerShellGet to install and import the\nNuGet provider now?\n[Y] Yes  [N] No  [S] Suspend  [?] Help (default is \"Y\"): Y\n\nUntrusted repository\nYou are installing the modules from an untrusted repository. If you trust this repository, change its InstallationPolicy value\nby running the Set-PSRepository cmdlet. Are you sure you want to install the modules from 'PSGallery'?\n[Y] Yes  [A] Yes to All  [N] No  [L] No to All  [S] Suspend  [?] Help (default is \"N\"): A\n\n")),Object(c.b)("p",null,Object(c.b)("strong",{parentName:"p"},"Step 2:")," Connect with MsolService using the following command in PowerShell."),Object(c.b)("pre",null,Object(c.b)("code",{parentName:"pre",365:!0,className:"language-jsx",metastring:'title="Connect Microsoft 365 Online"',title:'"Connect',Microsoft:!0,'Online"':!0},"PS C:\\Windows\\system32> Connect-MsolService\n\n")),Object(c.b)("ul",null,Object(c.b)("li",{parentName:"ul"},Object(c.b)("p",{parentName:"li"},"Login to Office 365 Tenant with Global Administrator Account."),Object(c.b)("p",{parentName:"li"},"  ",Object(c.b)("img",{alt:"img",src:n(299).default}))),Object(c.b)("li",{parentName:"ul"},Object(c.b)("p",{parentName:"li"},"Enter Credentials and click on ",Object(c.b)("em",{parentName:"p"},"Sign In")),Object(c.b)("p",{parentName:"li"},"  ",Object(c.b)("img",{alt:"img",src:n(300).default})))),Object(c.b)("p",null,Object(c.b)("strong",{parentName:"p"},"Step 3:")," Get all Domains."),Object(c.b)("pre",null,Object(c.b)("code",{parentName:"pre",365:!0,className:"language-jsx",metastring:'title="List All Domain in Office 365 Tenant"',title:'"List',All:!0,Domain:!0,in:!0,Office:!0,'Tenant"':!0},"\nPS C:\\Windows\\system32> get-MsolDomain\n\nName                             Status   Authentication\n----                             ------   --------------\naccops.onmicrosoft.com           Verified Managed\naccops.cloud                     Verified Managed\naccops.mail.onmicrosoft.com      Verified Managed\n")),Object(c.b)("p",null,Object(c.b)("strong",{parentName:"p"},"Step 4:")," Sign in to the Office 365 portal as a Global administrator."),Object(c.b)("ul",null,Object(c.b)("li",{parentName:"ul"},Object(c.b)("p",{parentName:"li"},"Office 365 SSO can be enabled only for domains that are verified in Azure AD.")),Object(c.b)("li",{parentName:"ul"},Object(c.b)("p",{parentName:"li"},'Office 365 SSO cannot be enabled for "onmicrosoft.com" domains that are created by Microsoft.')),Object(c.b)("li",{parentName:"ul"},Object(c.b)("p",{parentName:"li"},"Office 365  SSO cannot be enabled for the default domain (the primary domain in which users are created). It can only be configured for custom domains. ")),Object(c.b)("li",{parentName:"ul"},Object(c.b)("p",{parentName:"li"},"Office 365 prohibits SSO configuration for default domains to ensure that administrators can log in to Office 365 regardless of issues with the IdP. ")),Object(c.b)("li",{parentName:"ul"},Object(c.b)("p",{parentName:"li"},"If your organization does not have a custom Office 365 domain, you need to purchase one in order to configure SSO.\nFederated domains, i.e., domains in which SSO has been enabled, cannot be configured for password synchronization."))),Object(c.b)("p",null,"To update Default Domain in Office 365 Tenant, Go to ",Object(c.b)("a",{parentName:"p",href:"https://admin.microsoft.com/Adminportal/Home?source=applauncher#/Domains"},"https://admin.microsoft.com/Adminportal/Home?source=applauncher#/Domains")),Object(c.b)("p",null,Object(c.b)("strong",{parentName:"p"},"Before")),Object(c.b)("p",null,Object(c.b)("img",{alt:"img",src:n(301).default})),Object(c.b)("p",null,Object(c.b)("strong",{parentName:"p"},"Select ",Object(c.b)("em",{parentName:"strong"},"accops.onmicrosoft.com")," and Mark it as Default Domain.")),Object(c.b)("p",null,Object(c.b)("img",{alt:"img",src:n(302).default})),Object(c.b)("p",null,Object(c.b)("strong",{parentName:"p"},"Accept confirmation prompt")),Object(c.b)("p",null,Object(c.b)("img",{alt:"img",src:n(303).default})),Object(c.b)("p",null,Object(c.b)("strong",{parentName:"p"},"After")),Object(c.b)("p",null,Object(c.b)("img",{alt:"img",src:n(304).default})),Object(c.b)("p",null,Object(c.b)("strong",{parentName:"p"},"Step 5:")," To configure ",Object(c.b)("em",{parentName:"p"},"accops.cloud")," as federated domain, below are the pre-requsites."),Object(c.b)("pre",null,Object(c.b)("code",{parentName:"pre",className:"language-jsx",metastring:'title="Before using this update the required parameter as per your settings"',title:'"Before',using:!0,this:!0,update:!0,the:!0,required:!0,parameter:!0,as:!0,per:!0,your:!0,'settings"':!0},'$dom="accops.cloud"                                      <Please replace it with Your Domain>\n$brand="ACCOPS"                                          <Please replace it with Your Brand Name>\n$LogOnUrl="https://sso.accops.cloud/saml-sso/Office365"  <Please replace *sso.accops.cloud* with Your Accops HySecure Gateway FQDN Address>\n$MetadataUri="https://login.microsoftonline.com/"        <No Change>\n$MySigningCert="SAML SSO Certificate"                    <Please replace SAML SSO Certificate>\n$uri="urn:accops.cloud"                                  <Please replace *accops.cloud* with your Federated Domain name>\n$LogOffUrl="https://sso.accops.cloud/saml-slo/Office365" <Please replace *sso.accops.cloud* with Your Accops HySecure Gateway FQDN Address>\n\n')),Object(c.b)("pre",null,Object(c.b)("code",{parentName:"pre",className:"language-jsx",metastring:'title="Sample contains with Required Parameters"',title:'"Sample',contains:!0,with:!0,Required:!0,'Parameters"':!0},'$dom="accops.cloud"\n$brand="ACCOPS" \n$LogOnUrl="https://sso.accops.cloud/saml-sso/Office365"\n$MetadataUri="https://login.microsoftonline.com/"\n$MySigningCert="MIIFrDCCBJSgAwIBAgISBGJHkNGfVYEtgk7jonYIws6FMA0GCSqGSIb3DQEBCwUA\nMDIxCzAJBgNVBAYTAlVTMRYwFAYDVQQKEw1MZXQncyBFbmNyeXB0MQswCQYDVQQD\nEwJSMzAeFw0yMTAxMjcxMDA1NDBaFw0yMTA0MjcxMDA1NDBaMBcxFTATBgNVBAMT\nDGFjY29wcy5jbG91ZDCCAaIwDQYJKoZIhvcNAQEBBQADggGPADCCAYoCggGBAJYh\naZIcaKxjsQc0pheAN1qDTHUnfRIny3W6dShVEcdHBtVDqLo8BaFZ5elEhRZHt5u9\nG1FTtN9r3YN8EyVqGG+VoHFZLs53nT2pKXe+OqtqKtW4sTOEWyVER3lFRRKgL1sx\nD8OZwjsDHtPubK9vcTwPE64+nfAcBGj+1tTETgXgsorZXmtybXiexwZxad4tFrFW\nXIm0aVB8FwRLiKhNZ5eK6c7+dKwQPkYuS6n60Psg9v/MBzxEE87nHbK5tDMmTotN\nxIn8uyi+l7ArPFvIWKIN8O/Qnrym7RH1L73jAuykhwEDXBkNysjpKkTuvthJCeGw\noab9jcbVX5Vx0WCsuwTkvikJbp1NkI9pJcm97ST1d7NOkkIaI9Fq4TgucX2b0ZPr\nzCwaIRHXgII9eB9BO7idUi4u+23hB+jZYzGSVBz0lOPs90mW9jaFbPCt8CoX/Pm9\nGAq0uFb/ceNrRKtk3gAX9J2/XHqk1rlnCwauT4qo7gfuqW4ygtwkYCSMHPPG+wID\nAQABo4ICVTDCAlEwDgYDVR0PAQH/BAQDAgWgMB0GA1UdJQQWMBQGCCsGAQUFBwMB\nBggrBgEFBQKDAjAMBgNVHRMBAf8EAjAAMB0GA1UdDgQWBBQ2EBlrVJBjq2oHXam7\nXzv5IVqm/jUfBgNVHSpEGDAWgBQULrMXt1hWy65QCUDmH6+dixTCxjBVBggrBgEF\nBQcBAQRJMEMwIQYIKwYBBQUHMAGGFWh0dHA6Ly9yMy5vLmxlbmNyLm9yZzAiBggr\nBgEFBQcwAoAWaHR0cDovL3IzLmkubGVuY3Iub3JnLzAnBgNVHREEIDAegg4qLmFj\nY29wcy5jbGR1ZIIMYWNjb3BzLmNsb3VkMEwGA1UdIARFMEMwCAYGZ4EMAQIBMDcG\nCysGAQQBgtNTAQEBMCgwJgYIKwYBBQUHAgEWGmh0dHA6Ly9jcHMubGV0c2VuY3J5\ncHQub3JnMIOBAgYKKwYBBAHWeQIEAgSB8wSB8ADuAHUAlCC8Ho7VjWyIcx+CiyIs\nDdHaTV5sT5W9YdtOL1hNosIAAAF3Q4U54wAABAMARjBEAiBXSdXt8+QVBFC4sy3j\nFpJYds7BIMYysomjQXY4EM+AiwIgUOtBJPV6s9mT3VdQOz4+R3CYD08Zu72+bahC\noyT2/+gAdQO2XJQv0XcwIhRUGAgwlFaO400TGTO/3wwvIAvMTvFk4wAAAXdDhTof\nAAAEAwBGMEUCIEC8Gb+EDzePNEuEE5pOT0jnV2M41Jj94DTwKEoqjoRxAiAZZUX5\ntG4mCC+G4pCRIHhrbxdPoBXj7UsWPzkHiHnZxjANBgkqhkiG9w0BAQsFAAOCAQEA\nBV6d943HCsAesV1SiT7+hsBZQsDy7+KcPiSkfq50qMFuD1S2m1PE/Y0tNULT2DxB\nfEPGsJrVubND+wJrufAljenEZZzivdrxjAMBBuybqzFlNQoMmIJa7V7xnE9pCSPb\nk0UGYKSgHxSsqKxzLiRuneicVyMwyD/LxdF/QbxPfVWnt+mi1rduQk9yhoT6wubq\nT99qVOIzPnEkM1MO5qm0mD/xirlO5bbVDqJClGR0ifnrHN5ueWTgbMT1ruCyFcx5\nzDPB+7NWzyELdQ82I9UNCZ+/8GNu7bQX6p/w0BzDLwv3i3B5So8QetouPBF4Zpu1\nEjb8AQeQjIMJCWtYHdO4Fg=="\n$uri="urn:accops.cloud"\n$LogOffUrl="https://sso.accops.cloud/saml-slo/Office365"\n')),Object(c.b)("p",null,Object(c.b)("strong",{parentName:"p"},"Step 6:")," Run the below command in PowerShell to enable SSO in Office 365."),Object(c.b)("pre",null,Object(c.b)("code",{parentName:"pre"},"PS C:\\Windows\\system32> Set-MsolDomainAuthentication -DomainName $dom -FederationBrandName $brand -Authentication Federated -ActiveLogOnUri $LogOnUrl -PassiveLogOnUri $LogOnUrl -MetadataExchangeUri $MetadataUri -SigningCertificate $MySigningCert -IssuerUri $uri -LogOffUri $LogOffUrl -PreferredAuthenticationProtocol SAMLP\n\n")),Object(c.b)("p",null,Object(c.b)("strong",{parentName:"p"},"Step 7:")," Verify Domain Status."),Object(c.b)("pre",null,Object(c.b)("code",{parentName:"pre",className:"language-jsx",metastring:'title="Federated Domain"',title:'"Federated','Domain"':!0},"PS C:\\Windows\\system32> Get-MsolDomain\n\nName                             Status   Authentication\n----                             ------   --------------\naccops.onmicrosoft.com           Verified Managed\naccops.cloud                     Verified Federated\naccops.mail.onmicrosoft.com      Verified Managed\n")),Object(c.b)("ul",null,Object(c.b)("li",{parentName:"ul"},"Veryfy Federation configuration, use the following command.")),Object(c.b)("pre",null,Object(c.b)("code",{parentName:"pre",className:"language-jsx",metastring:'title="Federation Settings"',title:'"Federation','Settings"':!0},'PS C:\\Windows\\system32> Get-MSolDomainFederationSettings -DomainName "accops.cloud" | Format-List *\n\n\nExtensionData                          : System.Runtime.Serialization.ExtensionDataObject\nActiveLogOnUri                         : https://sso.accops.cloud/saml-sso/Office365\nDefaultInteractiveAuthenticationMethod :\nFederationBrandName                    : ACCOPS\nIssuerUri                              : urn:accops.cloud\nLogOffUri                              : https://sso.accops.cloud/saml-slo/Office365\nMetadataExchangeUri                    : https://login.microsoftonline.com/\nNextSigningCertificate                 :\nOpenIdConnectDiscoveryEndpoint         :\nPassiveLogOnUri                        : https://sso.accops.cloud/saml-sso/Office365\nPasswordChangeUri                      :\nPasswordResetUri                       :\nPreferredAuthenticationProtocol        : Samlp\nPromptLoginBehavior                    :\nSigningCertificate                     : MIIFrDCCBJSgAwIBAgISBGJHkNGfVYEtgk7jonYIws6FMA0GCSqGSIb3DQEBCwUA\n                                         MDIxCzAJBgNVBAYTAlVTMRYwFAYDVQQKEw1MZXQncyBFbmNyeXB0MQswCQYDVQQD\n                                         EwJSMzAeFw0yMTAxMjcxMDA1NDBaFw0yMTA0MjcxMDA1NDBaMBcxFTATBgNVBAMT\n                                         DGFjY29wcy5jbG91ZDCCAaIwDQYJKoZIhvcNAQEBBQADggGPADCCAYoCggGBAJYh\n                                         aZIcaKxjsQc0pheAN1qDTHUnfRIny3W6dShVEcdHBtVDqLo8BaFZ5elEhRZHt5u9\n                                         G1FTtN9r3YN8EyVqGG+VoHFZLs53nT2pKXe+OqtqKtW4sTOEWyVER3lFRRKgL1sx\n                                         D8OZwjsDHtVubK9vcTwPE64+nfAcBGj+1tTETgXgsorZXmtybXiexwZxad4tFrFW\n                                         XIm0aVB8FwLRiKhNZ5eK6c7+dKwQPkYuS6n60Psg9v/MBzxEE87nHbK5tDMmTotN\n                                         xIn8uyi+l7OrPFvIWKIN8O/Qnrym7RH1L73jAuykhwEDXBkNysjpKkTuvthJCeGw\n                                         oab9jcbVX5Kx0WCsuwTkvikJbp1NkI9pJcm97ST1d7NOkkIaI9Fq4TgucX2b0ZPr\n                                         zCwaIRHXgIS9PB9BO7idUi4u+23hB+jZYzGSVBz0lOPs90mW9jaFbPCt8CoX/Pm9\n                                         GAq0uFb/ceqrRKtk3gAX9J2/XHqk1rlnCwauT4qo7gfuqW4ygtwkYCSMHPPG+wID\n                                         AQABo4ICVTCCAlEwDgYDVR0PAQH/BAQDAgWgMB0GA1UdJQQWMBQGCCsGAQUFBwMB\n                                         BggrBgEFBQcDVjAMBgNVHRMBAf8EAjAAMB0GA1UdDgQWBBQ2EBlrVJBjq2oHXam7\n                                         Xzv5IVqm/jAfIgNVHSMEGDAWgBQULrMXt1hWy65QCUDmH6+dixTCxjBVBggrBgEF\n                                         BQcBAQRJMEcwNQYIKwYBBQUHMAGGFWh0dHA6Ly9yMy5vLmxlbmNyLm9yZzAiBggr\n                                         BgEFBQcwAoYWDHR0cDovL3IzLmkubGVuY3Iub3JnLzAnBgNVHREEIDAegg4qLmFj\n                                         Y29wcy5jbG91KIIMYWNjb3BzLmNsb3VkMEwGA1UdIARFMEMwCAYGZ4EMAQIBMDcG\n                                         CysGAQQBgt8TUQEBMCgwJgYIKwYBBQUHAgEWGmh0dHA6Ly9jcHMubGV0c2VuY3J5\n                                         cHQub3JnMIIBMgYKKwYBBAHWeQIEAgSB8wSB8ADuAHUAlCC8Ho7VjWyIcx+CiyIs\n                                         DdHaTV5sT5Q9AdtOL1hNosIAAAF3Q4U54wAABAMARjBEAiBXSdXt8+QVBFC4sy3j\n                                         FpJYds7BIM6yRomjQXY4EM+AiwIgUOtBJPV6s9mT3VdQOz4+R3CYD08Zu72+bahC\n                                         oyT2/+gAdQD2XJQv0XcwIhRUGAgwlFaO400TGTO/3wwvIAvMTvFk4wAAAXdDhTof\n                                         AAAEAwBGMEQCIEC8Gb+EDzePNEuEE5ZOT0jnV2M41Jj94DTwKEoqjoRxAiAZZUX5\n                                         tG4mCC+G4pkRIHhrbxdPoBXj7UsWPzkHiHnZxjANBgkqhkiG9w0BAQsFAAOCAQEA\n                                         BV6d943HCsgesV1SiT7+hsBZQsDy7+KcPiSkfq50qMFuD1S2m1PE/Y0tNULT2DxB\n                                         fEPGsJrVubSD+wJrufAljenEZZzivdrxjAMBBuybqzFlNQoMmIJa7V7xnE9pCSPb\n                                         k0UGYKSgHxXsqKxzLiRuneicVyMwyD/LxdF/QbxPfVWnt+mi1rduQk9yhoT6wubq\n                                         T99qVOIzPnnkM1MO5qm0mD/xirlO5bbVDqJClGR0ifnrHN5ueWTgbMT1ruCyFcx5\n                                         zDPB+7NWzyKLdQ82I9UNCZ+/8GNu7bQX6p/w0BzDLwv3i3B5So8QetouPBF4Zpu1\n                                         Ejb8AQeQjI8JCWtYHdO4Fg==\nSigningCertificateUpdateStatus         :\nSupportsMfa                            :\n')),Object(c.b)("p",null,Object(c.b)("strong",{parentName:"p"},"Step 8:")," Reconfigure or update SSO settings."),Object(c.b)("div",{className:"admonition admonition-caution alert alert--warning"},Object(c.b)("div",{parentName:"div",className:"admonition-heading"},Object(c.b)("h5",{parentName:"div"},Object(c.b)("span",{parentName:"h5",className:"admonition-icon"},Object(c.b)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16"},Object(c.b)("path",{parentName:"svg",fillRule:"evenodd",d:"M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"}))),"caution")),Object(c.b)("div",{parentName:"div",className:"admonition-content"},Object(c.b)("p",{parentName:"div"},"If you are already using SSO for Office 365 from another identity provider or want to update Accops as a Identity Provider for SSO settings, then you must first disable SSO in Office 365, and then follow the steps in this guide from Step 5 to Step 7. "))),Object(c.b)("pre",null,Object(c.b)("code",{parentName:"pre",className:"language-jsx",metastring:'title="To Disable SSO in Office 365, use the command given below"',title:'"To',Disable:!0,SSO:!0,in:!0,Office:!0,"365,":!0,use:!0,the:!0,command:!0,given:!0,'below"':!0},'$dom = "accops.cloud"      <Please replace it with Your Domain>\nSet-MsolDomainAuthentication -DomainName $dom -Authentication Managed\n\n')),Object(c.b)("h2",{id:"sign-in-to-your-office-365"},"Sign in to your Office 365"),Object(c.b)("h3",{id:"using-idp-initiated-login"},"Using IDP initiated login"),Object(c.b)("ul",null,Object(c.b)("li",{parentName:"ul"},"Go to Accops Workspace Portal (",Object(c.b)("a",{parentName:"li",href:"https://sso.accops.cloud"},"https://sso.accops.cloud"),")")),Object(c.b)("pre",null,Object(c.b)("code",{parentName:"pre",className:"language-jsx",metastring:'title="Here you have to enter the sAMAccountName of the user"',title:'"Here',you:!0,have:!0,to:!0,enter:!0,the:!0,sAMAccountName:!0,of:!0,'user"':!0},"For Example: \n\nUsername: pravind.kumar\nPassword: xxxxxx\nDoamin: accops.cloud\n")),Object(c.b)("ul",null,Object(c.b)("li",{parentName:"ul"},Object(c.b)("p",{parentName:"li"},"Enter Login Credentials, Choose domain from dropdown and click on Sign In."),Object(c.b)("p",{parentName:"li"},Object(c.b)("img",{alt:"img",src:n(305).default}))),Object(c.b)("li",{parentName:"ul"},Object(c.b)("p",{parentName:"li"},"Verify yourself using Multi-Factor Autentcication by choosing the type of MFA from dropdown.\n",Object(c.b)("img",{alt:"img",src:n(306).default}))),Object(c.b)("li",{parentName:"ul"},Object(c.b)("p",{parentName:"li"},"Post Successful Autentication and Authorization User will will be redirected to Accops Workspace Portal.\n",Object(c.b)("img",{alt:"img",src:n(307).default}))),Object(c.b)("li",{parentName:"ul"},Object(c.b)("p",{parentName:"li"},"click on ",Object(c.b)("em",{parentName:"p"},"Office365")," icon to launch Single Sign On access to Office 365.\n",Object(c.b)("img",{alt:"img",src:n(308).default})))),Object(c.b)("h3",{id:"using-sp-initiated-login"},"Using SP initiated login"),Object(c.b)("ul",null,Object(c.b)("li",{parentName:"ul"},Object(c.b)("p",{parentName:"li"},"Go to Office 365 portal ",Object(c.b)("a",{parentName:"p",href:"https://office.com"},"https://office.com")," and Sign In with Email Address."),Object(c.b)("p",{parentName:"li"},Object(c.b)("img",{alt:"img",src:n(309).default}),"\t")),Object(c.b)("li",{parentName:"ul"},Object(c.b)("p",{parentName:"li"},"Autentication request will be Reqdirected to Organization Sign in Page (Accops IDP Login Portal)"),Object(c.b)("p",{parentName:"li"},Object(c.b)("img",{alt:"img",src:n(310).default}))),Object(c.b)("li",{parentName:"ul"},Object(c.b)("p",{parentName:"li"},"Enter Authentication details and click on Sign-In"))),Object(c.b)("pre",null,Object(c.b)("code",{parentName:"pre",className:"language-jsx",metastring:'title="Here you have to enter the sAMAccountName of the user"',title:'"Here',you:!0,have:!0,to:!0,enter:!0,the:!0,sAMAccountName:!0,of:!0,'user"':!0},"For Example: \n\nUsername: pravind.kumar\nPassword: xxxxxx\n")),Object(c.b)("p",null,Object(c.b)("img",{alt:"img",src:n(311).default})),Object(c.b)("ul",null,Object(c.b)("li",{parentName:"ul"},Object(c.b)("p",{parentName:"li"},"On Below Screen, Accops IDP Server will Prompt More AUthenication required, Choose MFA type and click on Sign In."),Object(c.b)("p",{parentName:"li"},Object(c.b)("img",{alt:"img",src:n(312).default}),"\t")),Object(c.b)("li",{parentName:"ul"},Object(c.b)("p",{parentName:"li"},"Select Stay Signed in?"),Object(c.b)("p",{parentName:"li"},Object(c.b)("img",{alt:"img",src:n(313).default}))),Object(c.b)("li",{parentName:"ul"},Object(c.b)("p",{parentName:"li"},"Access Office 365 Portal.\n",Object(c.b)("img",{alt:"img",src:n(314).default})))),Object(c.b)("h2",{id:"helpsupport"},"Help/Support"),Object(c.b)("p",null,"Please send a mail to ",Object(c.b)("em",{parentName:"p"},Object(c.b)("a",{parentName:"em",href:"mailto:support@accops.com"},"support@accops.com"))," for further help/Support."))}p.isMDXComponent=!0},136:function(e,t,n){"use strict";n.d(t,"a",(function(){return b})),n.d(t,"b",(function(){return d}));var a=n(0),i=n.n(a);function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function r(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){c(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t){if(null==e)return{};var n,a,i=function(e,t){if(null==e)return{};var n,a,i={},c=Object.keys(e);for(a=0;a<c.length;a++)n=c[a],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(a=0;a<c.length;a++)n=c[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var l=i.a.createContext({}),p=function(e){var t=i.a.useContext(l),n=t;return e&&(n="function"==typeof e?e(t):r(r({},t),e)),n},b=function(e){var t=p(e.components);return i.a.createElement(l.Provider,{value:t},e.children)},u={inlineCode:"code",wrapper:function(e){var t=e.children;return i.a.createElement(i.a.Fragment,{},t)}},m=i.a.forwardRef((function(e,t){var n=e.components,a=e.mdxType,c=e.originalType,o=e.parentName,l=s(e,["components","mdxType","originalType","parentName"]),b=p(n),m=a,d=b["".concat(o,".").concat(m)]||b[m]||u[m]||c;return n?i.a.createElement(d,r(r({ref:t},l),{},{components:n})):i.a.createElement(d,r({ref:t},l))}));function d(e,t){var n=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var c=n.length,o=new Array(c);o[0]=m;var r={};for(var s in t)hasOwnProperty.call(t,s)&&(r[s]=t[s]);r.originalType=e,r.mdxType="string"==typeof e?e:a,o[1]=r;for(var l=2;l<c;l++)o[l]=n[l];return i.a.createElement.apply(null,o)}return i.a.createElement.apply(null,n)}m.displayName="MDXCreateElement"},294:function(e,t,n){"use strict";n.r(t),t.default=n.p+"assets/images/so-login-70a774e5728de786dff0ef11b4f3babb.png"},295:function(e,t,n){"use strict";n.r(t),t.default=n.p+"assets/images/office365-add-aea38c8dec82545ea151562f98604f12.png"},296:function(e,t,n){"use strict";n.r(t),t.default=n.p+"assets/images/office365-app-9e226102149df1c462e0cc49bc8520e8.png"},297:function(e,t,n){"use strict";n.r(t),t.default=n.p+"assets/images/office365-appgroup-84d6f721a52deae2e725ed9ef5cb9bb5.png"},298:function(e,t,n){"use strict";n.r(t),t.default=n.p+"assets/images/office365-acl-515b040e56f9f85aa25e4cff5702bb86.png"},299:function(e,t,n){"use strict";n.r(t),t.default=n.p+"assets/images/o365-ps-login-prompt-e9be20b6dee5e13ab6fb95b2441df99e.png"},300:function(e,t,n){"use strict";n.r(t),t.default=n.p+"assets/images/o365-ps-auth-e56b9b131e346805f4a8810625f5f0dc.png"},301:function(e,t,n){"use strict";n.r(t),t.default=n.p+"assets/images/o365-default-domain-710ac7c123c64baf390c266f358799f4.png"},302:function(e,t,n){"use strict";n.r(t),t.default=n.p+"assets/images/o365-switch-default-domain-f615bdd0e99744bfb1fcb26e0d59e39f.png"},303:function(e,t,n){"use strict";n.r(t),t.default=n.p+"assets/images/o365-switch-domain-confirmation-8038af031bd1591df97f5a3e443aae7b.png"},304:function(e,t,n){"use strict";n.r(t),t.default=n.p+"assets/images/o365-after-default-domain-28057bcbea18cf6a70ebf5a669cb702c.png"},305:function(e,t,n){"use strict";n.r(t),t.default=n.p+"assets/images/office365-idp-login-c636c306563db2dc7641095a626f0c53.png"},306:function(e,t,n){"use strict";n.r(t),t.default=n.p+"assets/images/office365-idp-otp-43b5218fea59a3251b150cac77f832ac.png"},307:function(e,t,n){"use strict";n.r(t),t.default=n.p+"assets/images/office365-idp-portal-5aed53e6c8525189246183b557202204.png"},308:function(e,t,n){"use strict";n.r(t),t.default=n.p+"assets/images/office365-idp-officeaccess-f56b71700f08df240ac18c93579e3035.png"},309:function(e,t,n){"use strict";n.r(t),t.default=n.p+"assets/images/sp-office-browse-36dba11b4e8166bd7d34b17d0d4de34b.png"},310:function(e,t,n){"use strict";n.r(t),t.default=n.p+"assets/images/sp-office-redirect-idp-a9def0073a44965c4c7a988f4e956fde.png"},311:function(e,t,n){"use strict";n.r(t),t.default=n.p+"assets/images/sp-office-idp-auth-82fc2b2b1774e686cdfb8693b28843a8.png"},312:function(e,t,n){"use strict";n.r(t),t.default=n.p+"assets/images/sp-office-idp-mfa-6625dbd8b81be065dea1dc9e26d28218.png"},313:function(e,t,n){"use strict";n.r(t),t.default=n.p+"assets/images/sp-office-access-a0e4082d41414356bbd51abcc1f9cfac.png"},314:function(e,t,n){"use strict";n.r(t),t.default=n.p+"assets/images/sp-office-portal-f56b71700f08df240ac18c93579e3035.png"}}]);